<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Authorization Admin · Invitations</title>
		<script type="module" crossorigin src="/assets/authAdmin-BB2Ctvab.js"></script>
		<link rel="modulepreload" crossorigin href="/assets/styles-Byh3MCSL.js">
		<link rel="stylesheet" crossorigin href="/assets/styles-7MbEsUcA.css">
	</head>
	<body>
		<main>
			<header class="hero">
				<div>
					<p class="eyebrow">Authorization Module</p>
					<h1>Invitations</h1>
					<p class="subtitle">
						Create invites, copy tokens, and track lifecycle without leaving the browser.
					</p>
				</div>
				<div id="user-badge" class="badge">Loading user…</div>
			</header>

			<section class="grid">
				<article class="card">
					<div class="card__header">
						<h2>Create invite</h2>
						<span class="hint">Expires in hours (default 72)</span>
					</div>
					<form id="invite-form" autocomplete="off">
						<label>
							Email
							<input type="email" name="email" placeholder="new.user@example.com" required />
						</label>
						<label>
							Phone
							<input type="tel" name="phone" placeholder="+15555550123" required />
						</label>
						<label>
							First name
							<input type="text" name="firstName" placeholder="Alex" required />
						</label>
						<label>
							Last name
							<input type="text" name="lastName" placeholder="Doe" required />
						</label>
						<label>
							Department ID
							<input type="text" name="departmentId" placeholder="department uuid" required />
						</label>
						<label>
							Position ID
							<input type="text" name="positionId" placeholder="position uuid" required />
						</label>
						<label class="full">
							Expires in hours
							<input
								type="number"
								name="expiresInHours"
								min="1"
								step="1"
								value="72"
								placeholder="72"
							/>
						</label>
						<div class="stack full">
							<button class="btn-primary" type="submit">Issue invitation</button>
							<span class="muted">InvitedBy is injected from your session automatically.</span>
						</div>
					</form>
					<div id="invite-error" class="error hidden"></div>
					<div id="invite-success" class="success hidden">
						<div class="stack" style="align-items: center; gap: 12px;">
							<strong>Token:</strong>
							<span id="invite-success-token"></span>
							<button id="copy-created-token" class="btn-primary" type="button">
								Copy token
							</button>
							<button id="copy-created-link" class="btn-ghost" type="button">
								Copy /register link
							</button>
						</div>
						<div class="muted" id="invite-success-expiry"></div>
					</div>
				</article>

				<article class="card">
					<div class="card__header">
						<h2>Filters</h2>
						<span class="hint">Status and email search</span>
					</div>
					<div class="stack full">
						<label class="full">
							Status
							<select id="filter-status" name="status">
								<option value="all">All statuses</option>
								<option value="pending">Pending</option>
								<option value="accepted">Accepted</option>
								<option value="expired">Expired</option>
								<option value="revoked">Revoked</option>
							</select>
						</label>
						<label class="full">
							Search by email
							<input
								id="filter-email"
								type="search"
								name="email"
								placeholder="user@example.com"
							/>
						</label>
						<div class="notice full">
							Copy actions also generate a shareable link like <code>/register?token=</code>.
						</div>
					</div>
				</article>

				<article class="card span-2">
					<div class="card__header">
						<h2>Invitation list</h2>
						<span class="hint">Includes status, expiry, and issued-by</span>
					</div>
					<div id="table-error" class="error hidden"></div>
					<div id="invites-empty" class="table-empty hidden">
						No invitations yet. Issue the first one to see it here.
					</div>
					<table aria-label="Invitations table">
						<thead>
							<tr>
								<th>Email</th>
								<th>Name</th>
								<th>Department</th>
								<th>Position</th>
								<th>Status</th>
								<th>Expires</th>
								<th>Created</th>
								<th>Accepted</th>
								<th>Actions</th>
							</tr>
						</thead>
						<tbody id="invites-body"></tbody>
					</table>
				</article>
			</section>
		</main>
		<div id="toast-root"></div>
	</body>
</html>
